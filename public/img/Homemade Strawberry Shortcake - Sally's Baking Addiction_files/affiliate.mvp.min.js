"use strict";(()=>{var xt=Object.defineProperty,Ct=Object.defineProperties;var kt=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var pe=(e,t,n)=>t in e?xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&pe(e,n,t[n]);if(V)for(var n of V(t))ge.call(t,n)&&pe(e,n,t[n]);return e},W=(e,t)=>Ct(e,kt(t));var Ee=(e,t)=>{var n={};for(var i in e)ue.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&V)for(var i of V(e))t.indexOf(i)<0&&ge.call(e,i)&&(n[i]=e[i]);return n};var p=(e,t,n)=>new Promise((i,o)=>{var r=c=>{try{a(n.next(c))}catch(l){o(l)}},s=c=>{try{a(n.throw(c))}catch(l){o(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(r,s);a((n=n.apply(e,t)).next())});var ye="1.16.1";var L=location.hostname==="localhost"||location.hostname==="affiliate.local",T=location.hostname.includes(".qa."),N=L||T;var we=T?"QA":L?"Local":"Production",O="raptive-affiliate-session",he=2773249,Ie=100874324,K=`affiliate-api.${N?"development.":""}raptive.com`,re=["v1","get","link"];var G="www.anrdoezrs.net",Se="raptive-affiliate-ignore",xe=[".adthrive",".adthrive-ad",".adthrive-sidebar"],Ce="raptive_dev",At=135293,ke=1598627,ve=`https://s.skimresources.com/js/${At}X{siteId}.skimlinks.js`,oe="noskim",Ae=/https:\/\/s\.skimresources\.com\/js\/\w+\.skimlinks\.js/i,_e='[src*="https://s.skimresources.com/js/"]',$=500,be=new Set(["p","h1","h2","h3","h4","h5","h6","li","span","div","td","th","caption","article","section","blockquote","pre","figcaption","dt","dd","header","footer","aside","summary"]);var C={enableIngredientSplit:()=>!0};var Le={"www.target.com":[{to:"raptive",includePattern:"aflt=plt"},{dev:!0,to:"impact",domain:"goto.target.com",impactCampaignId:201333,impactAdId:2092}],"www.goto.target.com":{to:"raptive",includePattern:"aflt(%3D|=)plt"},"www.amazon.com":{to:"amazon"},"www.walmart.com":{to:"impact",domain:"goto.walmart.com",impactCampaignId:565706,impactAdId:9383},"www.homedepot.com":{to:"impact",domain:"homedepot.sjv.io",impactCampaignId:456723,impactAdId:8154},"www.williams-sonoma.com":{to:"impact",domain:"williams-sonoma.pdy5.net",impactCampaignId:265127,impactAdId:4291},"www.potterybarn.com":{to:"impact",domain:"pottery-barn.o3ae.net",impactCampaignId:273804,impactAdId:4332},"www.potterybarnkids.com":{to:"impact",domain:"pbkids.hj2i.net",impactCampaignId:267850,impactAdId:4333},"www.pbteen.com":{to:"impact",domain:"pbteen.8f6i.net",impactCampaignId:267852,impactAdId:4334},"www.greenrow.com":{to:"impact",domain:"greenrow.pxf.io",impactCampaignId:1659377,impactAdId:19269},"www.markandgraham.com":{to:"impact",domain:"markandgraham.juo2.net",impactCampaignId:267860,impactAdId:4338},"www.rejuvenation.com":{to:"impact",domain:"rejuvenation.et7l.net",impactCampaignId:267858,impactAdId:4337},"www.westelm.com":{to:"impact",domain:"westelm.e54b.net",impactCampaignId:267856,impactAdId:4336},"www.fuelmeals.com":{to:"impact",domain:"fuel-meals.pxf.io",impactCampaignId:1513985,impactAdId:17798},"www.placeit.net":{to:"impact",domain:"1.envato.market",impactCampaignId:629767,impactAdId:10168},"www.instacart.com":{to:"impact",domain:"instacart.oloiyb.net",impactCampaignId:413183,impactAdId:7412},"www.bestbuy.com":{to:"impact",domain:"bestbuy.7tiv.net",impactCampaignId:614286,impactAdId:10014},"www.cb2.com":{to:"impact",domain:"cb2.pxf.io",impactCampaignId:1752687,impactAdId:20480},"www.oxo.com":{to:"impact",domain:"oxo.x57o.net",impactCampaignId:577714,impactAdId:9558},"www.myollie.com":{to:"impact",domain:"olliepets.sjv.io",impactCampaignId:890556,impactAdId:12309},"www.ownerly.com":{to:"impact",domain:"ownerly.sjv.io",impactCampaignId:1552846,impactAdId:18123},"www.peoplelooker.com":{to:"impact",domain:"people-looker.sjv.io",impactCampaignId:1552840,impactAdId:18121},"www.everydaylifeinsurance.com":{to:"impact",domain:"everyday-life.sjv.io",impactCampaignId:1594860,impactAdId:18495},"www.bumper.com":{to:"impact",domain:"bumper.pxf.io",impactCampaignId:1552843,impactAdId:18122},"www.minted.com":{to:"impact",domain:"mintedllc.sjv.io",impactCampaignId:1712109,impactAdId:19909},"www.drinktrade.com":{to:"impact",domain:"tradecoffee.pxf.io",impactCampaignId:571223,impactAdId:9472},"www.blueland.com":{to:"impact",domain:"blueland.sjv.io",impactCampaignId:1419720,impactAdId:16909},"www.wayfair.com":{dev:!0,to:"cj"},"www.allmodern.com":{dev:!0,to:"cj"},"www.jossandmain.com":{dev:!0,to:"cj"},"www.perigold.com":{dev:!0,to:"cj"},"www.birchlane.com":{dev:!0,to:"cj"},"www.thrivemarket.com":{dev:!0,to:"cj"}};var bt=Le,q=f({},bt);var ae="data-affiliate-config",Te="#raptive_lm_disable",U={enableKeywordLinker:!1,enableLinkMonetizer:!1,enableLinkController:!1,enableDynamicLinks:!1,enableAnalytics:!0,enableSkimlinks:!["insidethemagic.net"].includes(window.location.hostname),excludeDestinations:["cj"],alwaysNoFollow:!0,alwaysOpenInNew:!0};function Re(e){let t=e.hostname,n=se(),i=n[t]||n[`www.${t}`];if(!i)return;let o=Array.isArray(i)?i:[i],r=[];for(let s of o){let{includePattern:a,excludePattern:c}=s;a&&!(typeof a=="string"?new RegExp(a,"i"):a).test(e.href)||c&&(typeof c=="string"?new RegExp(c,"i"):c).test(e.href)||r.push(s)}if(r.length)return r[0]}function se(){return q}var F;function Pe(e){F=e}function u(){var e;return F||(F=Object.seal(f({},U))),Object.seal(f(f({},F),C.enableIngredientSplit()?{enableDynamicLinks:!0,excludeDestinations:(e=F.excludeDestinations)==null?void 0:e.filter(t=>t!=="raptive")}:{}))}function X({domain:e,paths:t,params:n,hash:i}){let o;try{o=new URL(`https://${e}`)}catch(r){return}if(t&&(o.pathname=t.filter(r=>Me(r)).map(r=>encodeURIComponent(r)).filter(r=>!!r&&r!=="/").join("/")),n)for(let[r,s]of Object.entries(n))Me(s)&&o.searchParams.append(r,s.toString());return i&&i!=="#"&&(o.hash=i.startsWith("#")?i:`#${i}`),o}function Me(e){return(typeof e=="string"||typeof e=="number")&&e!==""&&!Number.isNaN(e)&&e!==1/0}function Ne(e){return e.nodeType===Node.ELEMENT_NODE}function Oe(e){return e.nodeType===Node.TEXT_NODE}function B(e){if(!e)return;let t;try{return t=new URL(e),t}catch(n){}}function Ke(e){let t=e.split("").filter(n=>n===".").length;return e.startsWith("www.")?e.slice(4):t!==1?void 0:`www.${e}`}var De=10,Tt=1e4;function J(e,t=Tt,n=De){let i=t/n;return new Promise(o=>{let r=e();r&&o(r);let s=0,a=setInterval(()=>{let c;try{c=e()}finally{s++}c?(clearInterval(a),o(c)):s>=i&&(clearInterval(a),o(null))},De)})}var Rt=100;function Ue(e,t=Rt){let n=null;return function(){n||(e(),n=window.setTimeout(()=>{n=null},t))}}function Fe(){return new Promise(e=>{if(document.readyState==="interactive"||document.readyState==="complete"){e();return}document.addEventListener("DOMContentLoaded",()=>{e()})})}function Y(e){return new Promise((t,n)=>{let i=document.createElement("script");i.type="text/javascript",i.async=!0,i.referrerPolicy="no-referrer-when-downgrade",i.onload=()=>{t()},i.onerror=(o,r,s,a,c)=>{let l=JSON.stringify(c,["message","arguments","type","name"]),d=JSON.stringify({message:o,source:r,line:s,column:a,error:l});n(d)},i.src=e,document.head.appendChild(i)})}function x(){return L||T||location.href.includes(Ce)}function y(e,t){x()&&(t?console.log(e,t):console.log(e))}function j(e){y(`%c ${e}`,"color:green")}function k(e,t){x()&&(t?console.error(e,t):console.error(e))}function ce(){x()&&console.log(new Array(100).fill("\u23AF").join(""))}var Pt="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Mt=21;function R(){let e="",t=Mt;for(;t--;)e+=Pt[Math.random()*64|0];return e}function je(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:n||{}}))}function ze(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t=t&t;return t}function Ve(e){return p(this,null,function*(){yield Fe();let t=yield J(()=>Q(),e);if(t!=null&&t.siteId)return t;throw Error("AdCode not loaded")})}var He=void 0;function Q(){var n;if(He)return He;let e=u();if(e.site)return e.site;let t=(n=window.adthriveCLS)==null?void 0:n.siteAds;if(t!=null&&t.siteId)return{siteId:t.siteId,siteName:t.siteName}}var We={};var P="rpt_aff_active_exps",Ge="rpt_aff_exps",z="rpt_aff_bucket_index",le=(n=>(n.ExampleExperiment="affex",n.Default="affctrl",n))(le||{}),$e={affex:We,affctrl:{}},qe=[{volume:0,name:"affex",cacheIndex:1,whitelistedHostnames:["example.com","pengqa002.qa.adthrive.com"]}];var Xe=`https://affiliate-api${N?".development":""}.raptive.com/v1/create/event`,Be=`apeng-event-stream-${N?"development":"production"}`,Z=`apeng-error-event-stream-${N?"development":"production"}`,w=e=>W(f({},e),{status:"Error",service:Z});var Je=new Map;function H({a:e,feature:t,merchantConfig:n,affiliateUrl:i,originalUrl:o,linkId:r,trackingFlags:s}){if(!u().enableAnalytics)return;let a=Je.get(e);a||(a={linkId:r||R(),to:n.to,merchant:o==null?void 0:o.hostname,affiliateHref:i==null?void 0:i.href,originalHref:o==null?void 0:o.href,text:e.textContent?e.textContent.trim():void 0},Je.set(e,a));let c=[t];a.to==="raptive"&&c.push("dynamic-link"),h("link-affiliated",f({features:c,trackingFlags:s,element:e},a)),e.addEventListener("click",()=>{p(this,null,function*(){try{yield h("click",f({features:c,trackingFlags:s,element:e},a))}catch(l){console.error("Error tracking click event:",l),h("error",w({message:"Error tracking click event:",data:{error:l}}))}})}),Ot(e,!0,()=>{p(this,null,function*(){try{yield h("impression",f({features:c,trackingFlags:s,element:e},a))}catch(l){console.error("Error tracking impression event:",l),h("error",w({message:"Error tracking impression event:",data:{error:l}}))}})})}function h(e,t){return p(this,null,function*(){var g,E,I,A,_;if(!u().enableAnalytics)return;try{let S=localStorage.getItem(de);S&&(qt(),h("new-session",JSON.parse(S)))}catch(S){console.error("Error adding new session event:",S)}let m=t,{features:n,element:i,trackingFlags:o}=m,r=Ee(m,["features","element","trackingFlags"]),s={};try{s=JSON.parse(sessionStorage.getItem(P)||"")}catch(S){console.error("Error parsing active experiments from session storage:",S)}let a={type:e,id:R(),sessionId:Ut(),timestamp:Date.now(),pluginVersion:((I=(E=(g=window.raptive)==null?void 0:g.affiliate)==null?void 0:E.config.applied)==null?void 0:I.pluginVersion)||"",clientVersion:((_=(A=window.raptive)==null?void 0:A.affiliate)==null?void 0:_.version)||"",features:n,trackingFlags:o,experiments:s,page:{title:document.title},location:{href:location.href,hostname:location.hostname,path:location.pathname!=="/"?location.pathname:void 0,params:location.search?Object.fromEntries(new URLSearchParams(location.search.slice(1))):void 0},navigator:{userAgent:navigator.userAgent,language:navigator.language,vendor:navigator.vendor,platform:navigator.platform},data:r};e==="error"&&(a.status="Error",a.service=Z);let[c,l]=yield Promise.all([i?jt(i):void 0,zt()]);if(i){let S=Ft(i);a.element=f(f({tagName:i.tagName.toLowerCase(),id:i.id},c),S)}a.page=f(f({},a.page),l);let d=Wt();d&&(a.ga=d),tt(a)})}function Ot(e,t,n){let i=(r,s)=>{r.forEach(a=>{a.isIntersecting&&Kt(e)&&(n(),t&&s.unobserve(e))})};new IntersectionObserver(i,{root:null,rootMargin:"0px",threshold:1}).observe(e)}function Kt(e){let t=getComputedStyle(e);return t.opacity!=="0"||t.visibility!=="hidden"||t.display!=="none"||t.filter!=="filter: opacity(0%)"||t.transform!=="scale(0)"||t.width!=="0px"||t.height!=="0px"}function Ze(e){if(!Object.prototype.hasOwnProperty.call(sessionStorage,O)){let t=R();return sessionStorage.setItem(O,t),e&&e(),t}return sessionStorage.getItem(O)||""}function Ut(){return sessionStorage.getItem(O)||Ze()}function Ft(e){if(!e.parentElement)return;let t=[],n;for(;(n=e.parentElement)&&e!==document.body.parentElement;){let o=e.tagName,r=o.toLowerCase(),s=Array.from(n.children),a=s.filter(m=>m.tagName===o),c=s.indexOf(e),l=a.indexOf(e),d;e.id?d=`${r}#${e.id}`:d=a.length===1?r:`${r}:nth-child(${1+l})`,t.push([d,c,l]),e=n}return t.reverse(),{selector:t.map(([o])=>o).join(" > "),paths:t}}function jt(e){return p(this,null,function*(){return new Promise(t=>{requestAnimationFrame(()=>{let{left:n,top:i,width:o,height:r}=e.getBoundingClientRect(),s=document.documentElement.scrollLeft||window.scrollX||0,a=document.documentElement.scrollTop||window.scrollY||0,c=n+s,l=i+a;t({x:c,y:l,width:o,height:r})})})})}function zt(){return p(this,null,function*(){return new Promise(e=>{requestAnimationFrame(()=>{let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e({width:t,height:n})})})})}var Ht="_ga",Vt=["_ga_","_gid","_gat_","_gac_"];function Wt(){let e={};for(let t of document.cookie.split(";")){let[n,i]=t.split("=");n=n.trim(),i&&n&&(n===Ht||Vt.some(o=>n.startsWith(o)))&&(e[n]=i)}return Object.keys(e).length?e:void 0}var et="\u241E",M="raptive-analytics-events",de=`${M}-new-session`,Gt=2e3,Ye;function $t(e){localStorage.setItem(de,JSON.stringify(e))}function qt(){localStorage.removeItem(de)}function tt(e){let t=JSON.stringify(e),n=localStorage.getItem(M);n?n+=et+t:n=t,localStorage.setItem(M,n),Ye||(Ye=window.setInterval(()=>void Bt(),Gt))}function Xt(){var e;try{let t=(e=localStorage.getItem(M))==null?void 0:e.split(et).filter(n=>!!n);if(t){let n=t.map(i=>JSON.parse(i));return localStorage.removeItem(M),n}}catch(t){h("error",w({message:"Error reading analytics events from local storage",details:localStorage.getItem(M)||void 0}))}}function Qe(e,t){return p(this,null,function*(){let n=e.map(s=>({Data:btoa(JSON.stringify(s).replace(/[\u00A0-\u2666]/g,function(a){return`&#${a.charCodeAt(0)};`}))})),o=JSON.stringify({DeliveryStreamName:t,Records:n}),r=yield fetch(Xe,{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:o});return r.status!==200&&!(r.status===0&&r.type==="opaque")&&e.forEach(s=>{tt(s)}),e})}function Bt(){return p(this,null,function*(){let e=Xt();if(!e)return;x()&&(console.groupCollapsed("Raptive Affiliate Events"),console.log(e),console.groupEnd());let t=e.filter(i=>i.type!=="error"),n=e.filter(i=>i.type==="error");t.length&&(yield Qe(t,Be)),n.length&&(yield Qe(n,Z))})}var nt=function(){return{initialize:i=>p(this,[i],function*({getSiteConfig:t,modules:n}){var s;let{enableAnalytics:o}=t(),{polyfills:r}=((s=n.polyfills)==null?void 0:s.data)||{};return o?(Ze(()=>{$t({polyfills:r})}),Promise.resolve({data:{trackEvent:h,trackLinkAnalytics:H},initialized:!0})):Promise.resolve({data:{},initialized:!1})})}}();var D="aflt",it="~",rt="|";function v({uniqueId:e,flags:t,originalUrl:n,includeDomain:i}){let o=ee(t,n),r=e||R(),s=[r,o];if(i)if(r.length+1+o.length+1+location.hostname.length>64){let l=ze(location.hostname);s.push(l)}else s.push(location.hostname);return{fullUnifiedTrackingString:s.filter(Boolean).join(it),trackingFlags:o,uniqueId:r}}function ee(e,t){if(t){let i=t.searchParams.get(D);i!=null&&i.includes("cse")?e.push("cse"):i!=null&&i.includes("csn")&&e.push("csn")}let n=[];return e.includes("csn")?n.push("csn"):e.includes("cse")&&n.push("cse"),n.push("plt"),e.includes("lm")?n.push("lm"):e.includes("dyn")&&n.push("dyn"),n.filter(Boolean).join(rt)}var ot="skimlink",Yt="data-skimlinks-tracking",Qt=300,Zt=1e4;function at(){return p(this,null,function*(){let{alwaysOpenInNew:e,alwaysNoFollow:t,processedLinkClassname:n}=u();j("Running Skimlinks for all other merchants"),en()&&y("Skimlinks script tag already loaded. Aborting."),[...document.querySelectorAll('a[href*="thermoworks.com"]')].filter(Boolean).filter(l=>l.href.includes("?tw=")).forEach(l=>{l.classList.add("noskim"),l.classList.add("noskimlinks")});let i=se(),o=Object.keys(i),r=o.map(l=>Ke(l)).filter(l=>!!l),s=[];for(let[l,d]of Object.entries(i)){let m=Array.isArray(d)?d:[d],g=m.filter(E=>!!(E!=null&&E.domain)).map(E=>E==null?void 0:E.domain);s.splice(m.length,0,...g)}window.skimlinks_settings={noskimlinks:!1,noskimwords:!0,skimlinks_target:e?"_blank":void 0,skimlinks_custom_rel:ot,skimlinks_exclude:[...o,...r,...s,K,G]},y("Skimlinks settings: ",window.skimlinks_settings);try{let l=tn();yield Y(l)}catch(l){let d="Could not load Skimlinks script";k(d),yield h("error",w({message:d,data:{error:l}}))}let a=`a[rel="${ot}"]`;if(yield J(()=>document.querySelector(a)!==null,Zt,Qt)){let l=[],d=`${a}:not(.noskim, .noskimlinks)`;for(let m of document.querySelectorAll(d)){t?m.setAttribute("rel","nofollow"):m.removeAttribute("rel");let g=new URL(m.href);je(m,"contextmenu");let E=new URL(m.href);m.href=g.href;let I={to:"skimlinks",domain:new URL(E).hostname},{fullUnifiedTrackingString:A,uniqueId:_,trackingFlags:S}=v({flags:["lm"],originalUrl:g});H({a:m,feature:"link-monetizer",merchantConfig:I,affiliateUrl:E,originalUrl:g,linkId:_,trackingFlags:S}),m.setAttribute(Yt,A),n&&n.split(" ").forEach(b=>{m.classList.add(b)}),l.push(new URL(g).hostname)}y("Skimlinks merchants: ",l)}y("Skimlinks has completed")})}function en(){var e;for(let t of document.querySelectorAll(_e))if((e=t.getAttribute("src"))!=null&&e.match(Ae))return!0;return!1}function tn(){let{skimlinksSiteId:e}=u(),t=e||ke;return ve.replace("{siteId}",t.toString())}var te=class{constructor(t){this.root=this.createNode();for(let n of t)n.length!==0&&this.insert(n)}createNode(){return{children:{},isEndOfWord:!1}}insert(t){let n=t.toLowerCase(),i=this.root;for(let o of n)i.children[o]||(i.children[o]=this.createNode()),i=i.children[o];i.isEndOfWord=!0}findKeywordInstances(t){let n=[],i={},o=t.toLowerCase();for(let r=0;r<o.length;r++){let s=this.root;for(let a=r;a<o.length&&s!==null&&s.children[o[a]];a++){s=s.children[o[a]];if(s!==null&&s.isEndOfWord){let c=t.substring(r,a+1),l=r>0?o[r-1]:null,d=a<o.length-1?o[a+1]:null;(l===null||!/\w/.test(l))&&(d===null||!/\w/.test(d))&&(i[c]||(i[c]=0),i[c]++,n.push({keyword:c,charIndexStart:r,charIndexEnd:a}))}}}return n}};var nn=new te([]),rn;function ct(e){let t=e.data.trim(),n=[],i=nn.findKeywordInstances(e.data);i.sort((c,l)=>c.charIndexStart-l.charIndexStart||l.charIndexEnd-c.charIndexEnd);let o=null,r=null,s=null,a=null;for(let c of i){let l=rn.get(c.keyword.toLowerCase());if(l!==void 0)for(let d of l){if(d.exactOnly&&!on(t,d)||!an(e,d)||sn(c.keyword,d))continue;let m=W(f({},c),{href:d.href});if(cn(d,m,o)){s=d,a=m;continue}else(d.occurrences===void 0||d.occurrences>0)&&(a&&m.charIndexStart<=a.charIndexEnd&&c.charIndexEnd>=a.charIndexEnd&&c.charIndexEnd-c.charIndexStart>=a.charIndexEnd-a.charIndexStart&&(s==null?void 0:s.offset)!==void 0&&(s.offset++,s=null,a=null),o&&m.charIndexStart<=o.charIndexEnd?c.charIndexEnd>o.charIndexEnd&&c.charIndexEnd-c.charIndexStart>o.charIndexEnd-o.charIndexStart&&(st(r,d),n[n.length-1]=m,o=m,r=d):(st(null,d),n.push(m),o=m,r=d))}}return n}function on(e,t){return e.length===t.keyword.length&&e.toLowerCase()===t.keyword.toLowerCase()}function an(e,t){return!(t.selector&&(!e.parentElement||!e.parentElement.matches(t.selector)))}function sn(e,t){return t.caseSensitive?e!==t.keyword:!1}function cn(e,t,n){return n&&t.charIndexStart<=n.charIndexEnd&&t.charIndexEnd<=n.charIndexEnd?!1:e.offset!==void 0&&e.offset>0?(e.offset--,!0):!1}function st(e,t){(e==null?void 0:e.occurrences)!==void 0&&e.occurrences++,t.occurrences!==void 0&&t.occurrences--}function lt(e,t,n,i){let o=e.parentNode,r=e.splitText(t.charIndexEnd+1),s=e.splitText(t.charIndexStart),a=document.createElement("a");return a.href=n,i!=null&&i.alwaysOpenInNew&&!a.target&&(a.target="_blank"),i!=null&&i.alwaysNoFollow&&!a.rel&&(a.rel="nofollow"),i!=null&&i.processedLinkClassname&&i.processedLinkClassname.split(" ").forEach(c=>{a.classList.add(c)}),o.replaceChild(a,s),a.appendChild(s),{anchor:a,nextNode:r}}var ln=e=>{if(e.hostname!=="www.amazon.com"&&e.hostname!=="amazon.com")return!1;let n=/\/dp\/(?:[A-Z0-9]{10,13})(?:\/|$|\?|#)/.exec(e.pathname);if(!n)return!1;let i=n[0].replaceAll(/[^A-Z0-9]/g,"");return!(!i||i.length!==10&&i.length!==13||e.searchParams.has("tag"))},dt=(e,t,n,i)=>{let{amazonAffiliateId:o}=i||{};if(!o||!ln(e))return;let r;try{r=new URL(e.href)}catch(l){return}r.searchParams.append("tag",o);let{fullUnifiedTrackingString:s,uniqueId:a,trackingFlags:c}=v({flags:["lm"],originalUrl:e});return{affiliateUrl:r,uniqueId:a,fullUnifiedTrackingString:s,trackingFlags:c}};var mt=(e,t,n)=>{let i=Q();if(!i)return;let o=e.searchParams.get("keyword")||(n==null?void 0:n.textContent);if(!o)return;let r=e.searchParams.get("subid3"),s=r?B(decodeURIComponent(r)):e,a=ee(["dyn"],s),{fullUnifiedTrackingString:c,uniqueId:l}=v({flags:["lm"],originalUrl:s}),d={keyword:o,site_id:i.siteId,site_name:i.siteName,subid1:i.siteId,trackid:c,[D]:a,referral_url:window.location.href,sharedid:C.enableIngredientSplit()?"ingredient-split-test":void 0},m=X({domain:K,params:d,paths:re,hash:e.hash});if(m)return{affiliateUrl:m,uniqueId:l,fullUnifiedTrackingString:c,trackingFlags:a}},ft=(e,t)=>{if(!t.domain||!t.impactCampaignId||!t.impactAdId)return;let n=["c",he,t.impactCampaignId,t.impactAdId],i=Q();if(!i)return;let o=ee(["lm"],e),r=new URL(e);r.searchParams.delete(D),r.searchParams.append(D,o);let{fullUnifiedTrackingString:s,uniqueId:a,trackingFlags:c}=v({flags:["lm"],originalUrl:e}),l={subid1:i.siteId,subid2:window.location.href,sharedid:i.siteName,subid3:r.href,u:r.href},d=X({domain:t.domain,paths:n,params:l,hash:e.hash});if(d)return{affiliateUrl:d,uniqueId:a,fullUnifiedTrackingString:s,trackingFlags:c}},pt=(e,t)=>{let{fullUnifiedTrackingString:n,trackingFlags:i,uniqueId:o}=v({flags:["lm"],originalUrl:e,includeDomain:!0}),r=X({domain:G,paths:["links",Ie,"type","dlg"]});return r===void 0?void 0:{affiliateUrl:new URL(`${r.toString()}/${e.href}?sid=${encodeURIComponent(n)}`),uniqueId:o,fullUnifiedTrackingString:n,trackingFlags:i}},ut=(e,t)=>{throw Error("Not Implemented")};var gt={amazon:dt,raptive:mt,impact:ft,cj:pt,custom:ut};function ie(){return p(this,arguments,function*(e=document.body){let{enableLinkMonetizer:t,enableKeywordLinker:n,enableSkimlinks:i,dynamicSectionSelectors:o}=u();x()&&console.groupCollapsed("Raptive Affiliate Monetizer"),ne&&y("Dynamically updating content for: ",e),y(`Environment: ${we}`),y("Config Loaded",u()),y("Merchant Configs",q);try{yield Ve(),y("AdCode site data loaded")}catch(a){k("Could not load affiliate script. AdCode not available."),x()&&console.groupEnd();return}try{y("Keyword Linker config data loaded")}catch(a){k("Could not load keyword linker script. Keyword Linker not available.",a.message)}function r(a){if(Ne(a)){if(dn(a))return;t&&a.tagName.toLowerCase()==="a"&&fe(a),C.enableIngredientSplit()&&a.tagName.toLowerCase()==="a"&&a.classList.contains("wprm-recipe-ingredient-link")&&fe(a);let c=Array.from(a.childNodes);for(let l of c)r(l)}else if(Oe(a)&&n){let c=a.parentElement;if(!c||a.data.trim().length===0)return;let l=c.tagName.toLowerCase();be.has(l)&&mn(a)}}let s=null;typeof e=="string"&&(s=document.querySelector(e)),r(s||document.body),ce(),i&&(yield at()),o!=null&&o.length&&pn(),x()&&console.groupEnd()})}function dn(e){let{excludeSelectors:t,enableSkimlinks:n}=u(),o=[...xe,...t||[]].some(r=>e.matches(r))||e.matches(`.${Se}`);return n&&o&&e.classList.add(oe),o}function fe(e){let t=u(),{alwaysOpenInNew:n,alwaysNoFollow:i,enableLinkController:o,excludeDestinations:r,enableDynamicLinks:s,enableSkimlinks:a,processedLinkClassname:c}=t,l=e.href;if(!l)return;let d=B(l);if(!d||d.hostname===location.hostname)return;ce(),y(`Checking Link: ${d.href}`);let m=Re(d);if(!m||(y(`Merchant config found for ${d.hostname}: `,m),m.dev===!0&&!(L||T))||r!=null&&r.includes(m.to)||!s&&m.to==="raptive")return;let g=gt[m.to];if(!g)return;let E=g(d,m,e,t);if(!E)return;let{affiliateUrl:I,uniqueId:A,trackingFlags:_}=E;if(x()){j(`Rerouting Link: 
	Old: ${e.href}
	New: ${I.href}`);let b={"URL host":I.hostname,"URL path":I.pathname};for(let[It,St]of I.searchParams.entries())b[It]=St;j("New URL:"),y("",b)}o?fn(e,d.href,I.href):e.href=I.href,a&&e.classList.add(oe),c&&c.split(" ").forEach(b=>{e.classList.add(b)}),n&&!e.target&&(e.target="_blank"),i&&!e.rel&&(e.rel="nofollow"),e.dataset.googleInterstitial="false",H({a:e,feature:"link-monetizer",merchantConfig:m,affiliateUrl:I,originalUrl:d,linkId:A,trackingFlags:_})}function mn(e){let{alwaysOpenInNew:t,alwaysNoFollow:n,enableKeywordLinker:i,enableLinkMonetizer:o,keywordConfigs:r,processedLinkClassname:s}=u();if(!i||!(r!=null&&r.length))return;let a=ct(e),c=e,l=0;for(let d of a){d.charIndexStart-=l,d.charIndexEnd-=l;let{anchor:m,nextNode:g}=lt(c,d,d.href,{alwaysOpenInNew:t,alwaysNoFollow:n,processedLinkClassname:s||""});if(o&&fe(m),l+=d.charIndexEnd+1,g!==null&&g.data.length>0)c=g;else break}}function fn(e,t,n){e.addEventListener("mousedown",i=>{i.button===0&&(e.href=n,setTimeout(()=>{e.href=t},$))}),e.addEventListener("click",i=>{Et(i,e,t,n)}),e.addEventListener("touchstart",()=>{e.href=n,setTimeout(()=>{e.href=t},$)}),e.addEventListener("auxclick",i=>{Et(i,e,t,n)}),e.addEventListener("contextmenu",()=>{e.href=n;let i=()=>{e.href=t,e.removeEventListener("blur",i),window.removeEventListener("blur",i),window.removeEventListener("focus",i)};e.addEventListener("blur",i),window.addEventListener("blur",i),window.addEventListener("focus",i)})}function Et(e,t,n,i){t.href=i;let{alwaysOpenInNew:o}=u();try{window.open(i,o?"_blank":"_self")!==null?e.preventDefault():h("error",w({message:"null returned window.open. Falling back to default behavior via swapped href.",details:i,data:{}}))}catch(r){h("error",w({message:"Error occurred with window.open. Falling back to default behavior via swapped href.",details:i,data:{error:r}}))}setTimeout(()=>{t.href=n},$)}function pn(){let{dynamicSectionSelectors:e}=u();if(e!=null&&e.length)for(let t of e)for(let n of document.querySelectorAll(t))un(n)}var ne=!1;function un(e){let t=Ue(()=>p(this,null,function*(){ne||(ne=!0,yield ie(e),ne=!1)}));new MutationObserver(i=>{i.some(o=>o.type==="childList")&&t()}).observe(e,{childList:!0,subtree:!0,attributes:!1,characterData:!1})}var gn="https://polyfill.io/v3/polyfill.min.js?features=",En={fetch:window.fetch,IntersectionObserver:window.IntersectionObserver,MutationObserver:window.MutationObserver},yn={es2015:[Array.from,Array.of,Array.prototype[Symbol.iterator],Array.prototype.copyWithin,Array.prototype.entries,Array.prototype.fill,Array.prototype.find,Array.prototype.findIndex,Array.prototype.keys,Array.prototype.sort,Array.prototype.values,Function.prototype.name,Map,Object.assign,Object.is,Object.seal,Object.setPrototypeOf,Promise,RegExp.prototype.flags,Set,String.fromCodePoint,String.prototype[Symbol.iterator],String.prototype.codePointAt,String.prototype.endsWith,String.prototype.includes,String.prototype.repeat,String.prototype.startsWith,WeakMap,WeakSet],es2016:[Array.prototype.includes,Array.prototype.includes,String.prototype.padEnd,String.prototype.padStart],es2017:[Object.entries,Object.entries,Object.getOwnPropertyDescriptors,Object.values],es2018:[Promise.prototype.finally,Symbol.asyncIterator],es2019:[Array.prototype.flat,Array.prototype.flatMap,Object.fromEntries,String.prototype.trimEnd,String.prototype.trimStart],es2020:[Promise.allSettled,RegExp.prototype[Symbol.matchAll],String.prototype.matchAll,Symbol.matchAll],es2021:[AggregateError,Promise.any,String.prototype.replaceAll]},wn=function(){return{initialize:n=>p(this,[n],function*({trackEvent:t}){let i=[];for(let[o,r]of Object.entries(f(f({},yn),En)))r||i.push(o);if(i.length){let o=gn+i.join("%2C");try{yield Y(o)}catch(r){t("error",w({message:"Failed to load polyfills",details:o,data:i}))}}return Promise.resolve({data:{polyfills:i},initialized:!0})})}}(),yt=wn;var hn=e=>{if(e)return sessionStorage.setItem(z,e.toString()),e;if(sessionStorage.getItem(z))return Number(sessionStorage.getItem(z));let t=Math.floor(Math.random()*100);return sessionStorage.setItem(z,t.toString()),t},In=e=>{var o;let t={};if(sessionStorage.getItem(P))try{t=JSON.parse(sessionStorage.getItem(P)||"")}catch(r){console.error("Error parsing active experiments from session storage:",r),t={}}else qe.forEach(r=>{let s=r.whitelistedHostnames?r.whitelistedHostnames.includes(window.location.hostname):!0,a=r.blacklistedHostnames?r.blacklistedHostnames.includes(window.location.hostname):!1;!s||a||e<r.volume&&(t[r.name]={status:Math.random()<.5?"on":"off",cacheIndex:r.cacheIndex})});return(((o=new URLSearchParams(window.location.search).get(Ge))==null?void 0:o.split(","))||[]).forEach(r=>{Object.values(le).includes(r)&&(t[r]={status:"on",cacheIndex:999})}),sessionStorage.setItem(P,JSON.stringify(t)),t},Sn=e=>Object.entries(e).reduce((t,[n,{status:i}])=>{if(i!=="on")return t;let o=$e[n]||{};return f(f({},t),o)},{});function wt(e){let t=hn(e),n=In(t),i=Sn(n);return Object.entries(n).forEach(([o,{status:r,cacheIndex:s}])=>{var a,c;(c=(a=window.adthrive)==null?void 0:a.cmd)==null||c.push(()=>{var l,d;(d=(l=window.adthrive)==null?void 0:l.setTargetingFlag)==null||d.call(l,o+s,[r],!0)})}),{runningExperiments:n,config:i,isExperimentEnabled(o){var r;return((r=n[o])==null?void 0:r.status)==="on"}}}function ht(){return p(this,null,function*(){let e=f({},U),t={},n=document.querySelectorAll(`[${ae}]`),i=null,o=null;for(let c of n){i=null,c.tagName==="SCRIPT"&&c.getAttribute("type")==="application/json"?i=c.textContent:i=c.getAttribute(ae);try{if(!i)throw new Error("No valid config element found");let l=JSON.parse(i);o=o?Object.assign(o,l):l,e=Object.assign(e,l)}catch(l){let d="Invalid affiliate config in HTML";k(d),i&&k(i),h("error",w({message:d,details:i||""}))}}let{runningExperiments:r,config:s,isExperimentEnabled:a}=wt();return e=Object.assign(e,s),document.location.hash===Te&&(e.enableLinkMonetizer=!1),Pe(Object.seal(e)),Promise.resolve({default:U,remote:t,local:o||{},applied:e,experiment:s,runningExperiments:r,isExperimentEnabled:a})})}var Cn=new Map([["polyfills",yt],["analytics",nt],["linkMonetizer",null]]);function kn(){return window.raptive||(window.raptive={}),window.raptive.affiliate||(window.raptive.affiliate={version:ye,config:{},getSiteConfig(){var t;let e=(t=window.raptive)==null?void 0:t.affiliate;return(e==null?void 0:e.config.applied)||{}},experimentation:{is(e){var i;let t=(i=window.raptive)==null?void 0:i.affiliate,n=t==null?void 0:t.config.isExperimentEnabled;return n?n(e):!1},all(){var t;let e=(t=window.raptive)==null?void 0:t.affiliate;return(e==null?void 0:e.config.runningExperiments)||{}}},initialized:!1,modules:{},monetize:ie,trackEvent(e,t){var o,r,s;let n=(o=window.raptive)==null?void 0:o.affiliate,i=(s=(r=n==null?void 0:n.modules.analytics)==null?void 0:r.data)==null?void 0:s.trackEvent;return i?i(e,t):(console.error("Error. Attempted to use trackEvent before analytics module was initialized."),Promise.resolve(void 0))}}),window.raptive.affiliate}function vn(){return p(this,null,function*(){let e=ht(),t=kn();if(t.initialized)return;t.config=yield e;let{enableLinkMonetizer:n,enableKeywordLinker:i}=t.config.applied;t.initialized=!0;let o={};for(let[r,s]of Cn.entries())if(s)try{o[r]=yield s.initialize(t)}catch(a){console.error(`
	Failed to initialize the module ${r}`,a)}t.modules=o;try{(n||i||C.enableIngredientSplit())&&(yield ie())}catch(r){yield t.trackEvent("error",w({message:"Failed to initialize link monetizer.",data:{error:r}}))}})}vn();})();
